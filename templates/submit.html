{% extends 'base.html' %}
{% block pagetitle %}
{{ title }}
{% endblock pagetitle %}
{% block body %}

<style>
  body {
    background-image: url("{{ url_for('static', filename='photo-1520412099551-62b6bafeb5bb.avif') }}");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  /* Add blurred background using ::before */
    body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("{{ url_for('static', filename='photo-1520412099551-62b6bafeb5bb.avif') }}") no-repeat center center fixed;
        background-size: cover;
        filter: blur(4px); /* Adjust blur intensity */
        z-index: -1; /* Push behind content */
    }

    /* Transparent Background with Frosted Glass Effect */
.card {
    background: rgba(106, 100, 100, 0.49) !important; /* Transparent white */
    backdrop-filter: blur(10px); /* Glassmorphism effect */
    border: 1px solid rgba(255, 255, 255, 0.3); /* Soft border */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Light shadow */
}

/* Ensure text remains readable */
.card h5, .card p, .card ul, .card a {
    color: #fff; /* Change text color to white */
}
</style>


<div>
  <div class="container">
    <!-- Page Title -->
    <div class="row mb-5 text-center text-white">
      <div class="col-lg-10 mx-auto">
        <h1 class="display-4" style=" padding-top: 2%; font-weight: 400; color: rgb(238, 243, 238); margin-top:30px; font-size: 60px;">
          <b>{{ title }}üçÇ</b>
        </h1>
      </div>
    </div>

    <center>
      <div class="row">
        <!-- Uploaded Image (Always Displayed) -->
        <div class="col">
          <div class="card shadow-lg border-3 rounded-lg bg-light p-4 d-flex align-items-center justify-content-center" style="width: 65%;">
            <h5><b>Uploaded Image</b></h5>
            <img src="{{ uploaded_image_url }}" width="350" height="350" alt="Uploaded Image">
          </div>
        </div>

        <!-- Grad-CAM Heatmap (Only if the plant is diseased) -->
        {% if gradcam_url %}
        <div class="col mx-auto">
          <div class="card shadow-lg border-3 rounded-lg bg-light p-4 d-flex align-items-center justify-content-center" style="width: 65%;">
            <h5><b>Diseased Areas</b></h5>
            <img src="{{ gradcam_url }}" width="350" height="350">
          </div>
        </div>
        {% endif %}
      </div>
    </center>

    <br>

    <div class="row">
      <div class="col mx-auto">
        <div class="card shadow-lg border-3 rounded-lg bg-light p-4" style="height: 95%;">
          <h5><b>
              {% if pred in [3,5,7,11,15,18,20,23,24,25,28,38] %}
              Tips to Grow Healthy Plants:
              {% else %}
              Brief Description:
              {% endif %}
            </b></h5>
          <p>{{ desc }}</p>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col mx-auto">
        <div class="card shadow-lg border-3 rounded-lg bg-light p-4" style="height: 95%;">
          <h5><b>
              {% if pred in [3,5,7,11,15,18,20,23,24,25,28,38] %}
              Benefits:
              {% else %}
              Prevent This Plant Disease By Following These Steps:
              {% endif %}
            </b></h5>
          <p>{{ prevent }}</p>
        </div>
      </div>

      {% if pred != 4 %}
      <div class="col mx-auto">
        <div class="card shadow-lg border-3 rounded-lg bg-light p-4" style="height: 95%;">
          <center>
            <h5><b>
                {% if pred in [3,5,7,11,15,18,20,23,24,25,28,38] %}
                Fertilizer:
                {% else %}
                Supplements:
                {% endif %}
              </b></h5>
            <br>
            <img src="{{ simage }}" width="300" height="350">
            <br><br>
            <h6 class="text-white">{{ sname }}</h6>
            <a target="_blank" href="{{ buy_link }}">
              <button type="button" class="btn btn-success" style="background-color:rgb(17, 48, 21); margin-bottom:10px">
                Buy Product
              </button>
            </a>
          </center>
        </div>
      </div>
      {% endif %}
    </div>

  </div>
</div>

{% endblock body %}
